<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Coal Deposits of Southeast BC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
    <link
      href="https://api.tiles.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css"
      rel="stylesheet"
    />
    <style>
      body {
        margin: 0;
        padding: 0;
      }
      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
      }
    </style>
  </head>
  <body>
		<div id='map' ></div>
		<script>
		mapboxgl.accessToken = 'pk.eyJ1Ijoid3lhdHRldm9kYXRhIiwiYSI6ImNreXl2Z3FmbjB3Y3Iyb2xydHM2cnl1eHcifQ.g5Eijbwy7Kcbr7oyoUGMdg';
		const map = new mapboxgl.Map({
		    container: 'map', // container ID
		    style: 'mapbox://styles/wyattevodata/ckz02y5dr002k14mvf4ool8t1', // style URL
		    center: [-114.88574718739996,49.74030255352426], // starting position [lng, lat]
		    zoom: 8 // starting zoom
		});

    map.on('load', () => {
      map.loadImage(
        '../mapbox-icon.png',
        (error, image) => {
          if (error) throw error;

          //add the image to the map
          map.addImage('custom-marker', image);

          //add a data source
          map.addSource('points', {
            'type': 'geojson',
            'data': {
              'type': 'FeatureCollection',
              'features': [
                {
                  'type': 'Feature',
                  'geometry': {
                    'type': 'Point',
                    'coordinates': [
                      -115.18177833412403,49.000127758365466
                    ]
                  },
                  'properties': {
                    'title': 'Lake Koocanusa'
                  }
                },
                {
                  'type': 'Feature',
                  'geometry': {
                    'type': 'Point',
                    'coordinates': [
                      -114.76966273335552,49.84785577758936
                    ]
                  },
                  'properties': {
                    'title': 'Grave Creek'
                  }
                }
              ]
            }
          });

          //add a layer to use the image to represent the data
          map.addLayer({
            'id': 'points',
            'type': 'symbol',
            'source': 'points',
            'layout': {
              'icon-image': 'custom_marker',
              'text-field': ['get','title'],
              'text-font': [
                'Open Sans Semibold',
                'Arial Unicode MS Bold'
              ],
              'text-offset': [0,1.25],
              'text-anchor': 'top'
            }
          });
        }
      );
    });
		</script>
  </body>
</html>
